map(~ if(.x == "Nunca") 0) %>%
map(~ str_replace(.x,"1 vez al día",'1/dia')) %>%
map(~ str_replace(.x,"2 veces al día",'2/dia')) %>%
map(~ str_replace(.x,"3 veces al día",'3/dia')) %>%
map(~ str_replace(.x,"4 o más veces al día",'+4/dia')) %>%
map(~ str_replace(.x,"Dato perdido",'NA')) %>%
map(~ str_replace(.x,"1 a 3 veces durante los últimos 7 días",'1-3/sem')) %>%
map(~ str_replace(.x,"4 a 6 veces durante los últimos 7 días",'4-6/sem'))
encuesta_salud_train_csv["hambre_mensual"] = encuesta_salud_train_csv %>%
select(frecuencia_hambre_mensual) %>%
map(~ if(.x == "Nunca") 0 else .x) %>%
map(~ str_replace(.x,"1 vez al día",'1/dia')) %>%
map(~ str_replace(.x,"2 veces al día",'2/dia')) %>%
map(~ str_replace(.x,"3 veces al día",'3/dia')) %>%
map(~ str_replace(.x,"4 o más veces al día",'+4/dia')) %>%
map(~ str_replace(.x,"Dato perdido",'NA')) %>%
map(~ str_replace(.x,"1 a 3 veces durante los últimos 7 días",'1-3/sem')) %>%
map(~ str_replace(.x,"4 a 6 veces durante los últimos 7 días",'4-6/sem'))
encuesta_salud_train_csv["hambre_mensual"] = encuesta_salud_train_csv %>%
select(frecuencia_hambre_mensual) %>%
map(~ if(.x = "Nunca") 0 else .x) %>%
encuesta_salud_train_csv["hambre_mensual"] = encuesta_salud_train_csv %>%
select(frecuencia_hambre_mensual) %>%
map(~ if(.x = "Nunca"){ 0 } else {.x}) %>%
encuesta_salud_train_csv["hambre_mensual"] = encuesta_salud_train_csv %>%
select(frecuencia_hambre_mensual) %>%
map(~ if(.x == "Nunca"){ 0 } else {.x}) %>%
map(~ str_replace(.x,"1 vez al día",'1/dia')) %>%
map(~ str_replace(.x,"2 veces al día",'2/dia')) %>%
map(~ str_replace(.x,"3 veces al día",'3/dia')) %>%
map(~ str_replace(.x,"4 o más veces al día",'+4/dia')) %>%
map(~ str_replace(.x,"Dato perdido",'NA')) %>%
map(~ str_replace(.x,"1 a 3 veces durante los últimos 7 días",'1-3/sem')) %>%
map(~ str_replace(.x,"4 a 6 veces durante los últimos 7 días",'4-6/sem'))
encuesta_salud_train_csv["hambre_mensual"] = encuesta_salud_train_csv %>%
select(frecuencia_hambre_mensual) %>%
map(~ ifelse(.x == "Nunca", 0, .x)) %>%
map(~ str_replace(.x,"1 vez al día",'1/dia')) %>%
map(~ str_replace(.x,"2 veces al día",'2/dia')) %>%
map(~ str_replace(.x,"3 veces al día",'3/dia')) %>%
map(~ str_replace(.x,"4 o más veces al día",'+4/dia')) %>%
map(~ str_replace(.x,"Dato perdido",'NA')) %>%
map(~ str_replace(.x,"1 a 3 veces durante los últimos 7 días",'1-3/sem')) %>%
map(~ str_replace(.x,"4 a 6 veces durante los últimos 7 días",'4-6/sem'))
encuesta_salud_train_csv["hambre_mensual"]
encuesta_salud_train_csv["hambre_mensual"] = encuesta_salud_train_csv %>%
select(frecuencia_hambre_mensual) %>%
map(~ ifelse(.x == "Nunca", 0, .x)) %>%
map(~ ifelse(.x == "Rara vez", 1, .x)) %>%
map(~ ifelse(.x == "Algunas veces", 2, .x)) %>%
map(~ ifelse(.x == "Casi siempre", 3, .x)) %>%
map(~ ifelse(.x == "Siempre", 4, .x)) %>%
map(~ ifelse(.x == "Dato perdido", -1, .x))
encuesta_salud_train_csv["hambre_mensual"]
barplot(table(encuesta_salud_train_csv$verduras,encuesta_salud_train_csv$hambre_mensual),col=rainbow(11),main="Distribución de calidad según la variedad")
barplot(table(encuesta_salud_train_csv$hambre_mensual,encuesta_salud_train_csv$verduras),col=rainbow(11),main="Distribución de calidad según la variedad")
legend("right",cex=1,title="Variedad",encuesta_salud_train_csv$hambre_mensual,fill=rainbow(11),horiz=T)
barplot(table(encuesta_salud_train_csv$hambre_mensual,encuesta_salud_train_csv$verduras),col=rainbow(11),main="Distribución de calidad según la variedad")
legend("right",cex=1,title="Variedad",encuesta_salud_train_csv$hambre_mensual,fill=rainbow(11),horiz=T)
encuesta_salud_train_csv["hambre_mensual"] = encuesta_salud_train_csv %>%
select(frecuencia_hambre_mensual) %>%
map(~ ifelse(.x == "Nunca", 0, .x)) %>%
map(~ ifelse(.x == "Rara vez", 1, .x)) %>%
map(~ ifelse(.x == "Algunas veces", 2, .x)) %>%
map(~ ifelse(.x == "Casi siempre", 3, .x)) %>%
map(~ ifelse(.x == "Siempre", 4, .x)) %>%
map(~ ifelse(.x == "Dato perdido", -1, .x))
hambre_mensual_values = encuesta_salud_train_csv %>% distinct(hambre_mensual) %>% select(hambre_mensual)
hambre_mensual_values
legend("right",cex=1,title="Variedad",hambre_mensual_values,fill=rainbow(11),horiz=T)
barplot(table(encuesta_salud_train_csv$hambre_mensual,encuesta_salud_train_csv$verduras),col=rainbow(11),main="Distribución de calidad según la variedad")
legend("right",cex=1,title="Variedad",hambre_mensual_values,fill=rainbow(11),horiz=T)
barplot(table(encuesta_salud_train_csv$hambre_mensual,encuesta_salud_train_csv$verduras),col=rainbow(11),main="Distribución de calidad según la variedad")
legend("right",cex=1,title="Variedad",hambre_mensual_values,fill=rainbow(11),horiz=T)
barplot(table(encuesta_salud_train_csv$hambre_mensual,encuesta_salud_train_csv$verduras),col=rainbow(11),main="Distribución de calidad según la variedad")
legend("right",cex=1,title="Variedad",c(hambre_mensual_values),fill=rainbow(11),horiz=T)
barplot(table(encuesta_salud_train_csv$hambre_mensual,encuesta_salud_train_csv$verduras),col=rainbow(11),main="Distribución de calidad según la variedad")
mosaicplot(table(encuesta_salud_train_csv$verduras,encuesta_salud_train_csv$hambre_mensual),col=terrain.colors(7:11),main="Distribución hambre mensual - consumo semanal de verduras",ylab="Frecuencia hambre mensual",xlab="Consumo semanal de verduras")
encuesta_salud_train_csv["hambre_mensual"] = encuesta_salud_train_csv %>%
select(frecuencia_hambre_mensual) %>%
map(~ ifelse(.x == "Nunca", 0, .x)) %>%
map(~ ifelse(.x == "Rara vez", 1, .x)) %>%
map(~ ifelse(.x == "Algunas veces", 2, .x)) %>%
map(~ ifelse(.x == "Casi siempre", 3, .x)) %>%
map(~ ifelse(.x == "Siempre", 4, .x)) %>%
map(~ ifelse(.x == "Dato perdido", NA, .x))
barplot(table(encuesta_salud_train_csv$hambre_mensual,encuesta_salud_train_csv$verduras),col=rainbow(11),main="Distribución de calidad según la variedad")
mosaicplot(table(encuesta_salud_train_csv$verduras,encuesta_salud_train_csv$hambre_mensual),col=terrain.colors(7:11),main="Distribución hambre mensual - consumo semanal de verduras",ylab="Frecuencia hambre mensual",xlab="Consumo semanal de verduras")
encuesta_salud_train_csv["hambre_mensual"] = encuesta_salud_train_csv %>%
select(frecuencia_hambre_mensual) %>%
map(~ ifelse(.x == "Nunca", 0, .x)) %>%
map(~ ifelse(.x == "Rara vez", 1, .x)) %>%
map(~ ifelse(.x == "Algunas veces", 2, .x)) %>%
map(~ ifelse(.x == "Casi siempre", 3, .x)) %>%
map(~ ifelse(.x == "Siempre", 4, .x)) %>%
map(~ ifelse(.x == "Dato perdido", -1, .x))
```{r}
barplot(table(encuesta_salud_train_csv$hambre_mensual,encuesta_salud_train_csv$verduras),col=rainbow(11),main="Distribución de calidad según la variedad")
mosaicplot(table(encuesta_salud_train_csv$verduras,encuesta_salud_train_csv$hambre_mensual),col=terrain.colors(7:11),main="Distribución hambre mensual - consumo semanal de verduras",ylab="Frecuencia hambre mensual",xlab="Consumo semanal de verduras")
legend("topright",cex=1,title="Variedad",c("-1: Dato perdido","tinto","2","3","4","5"),fill=rainbow(11),horiz=T)
mosaicplot(table(encuesta_salud_train_csv$verduras,encuesta_salud_train_csv$hambre_mensual),col=terrain.colors(7:11),main="Distribución hambre mensual - consumo semanal de verduras",ylab="Frecuencia hambre mensual",xlab="Consumo semanal de verduras")
legend("topright",cex=1,title="Variedad",c("-1: Dato perdido","tinto","2","3","4","5"),fill=rainbow(11),horiz=T)
mosaicplot(table(encuesta_salud_train_csv$verduras,encuesta_salud_train_csv$hambre_mensual),col=terrain.colors(7:11),main="Distribución hambre mensual - consumo semanal de verduras",ylab="Frecuencia hambre mensual",xlab="Consumo semanal de verduras")
legend("right",cex=1,title="Variedad",c("-1: Dato perdido","tinto","2","3","4","5"),fill=rainbow(11),horiz=T)
mosaicplot(table(encuesta_salud_train_csv$verduras,encuesta_salud_train_csv$hambre_mensual),col=terrain.colors(7:11),main="Distribución hambre mensual - consumo semanal de verduras",ylab="Frecuencia hambre mensual",xlab="Consumo semanal de verduras")
legend("right",cex=1,title="Variedad",c("-1: Dato perdido","tinto","2","3","4","5"),horiz=T)
legend("right",cex=1,title="Variedad",c("-1: Dato perdido","tinto","2","3","4","5"),fill=terrain.colors(7:11),horiz=T)
mosaicplot(table(encuesta_salud_train_csv$verduras,encuesta_salud_train_csv$hambre_mensual),col=terrain.colors(7:11),main="Distribución hambre mensual - consumo semanal de verduras",ylab="Frecuencia hambre mensual",xlab="Consumo semanal de verduras")
legend("right",cex=1,title="Variedad",c("-1: Dato perdido","tinto","2","3","4","5"),fill=terrain.colors(7:11),horiz=T)
mosaicplot(table(encuesta_salud_train_csv$verduras,encuesta_salud_train_csv$hambre_mensual),col=terrain.colors(7:11),main="Distribución hambre mensual - consumo semanal de verduras",ylab="Frecuencia hambre mensual",xlab="Consumo semanal de verduras")
legend("right",cex=1,title="Variedad",c("-1: Dato perdido","tinto","2","3","4","5"),fill=terrain.colors(7:11),horiz=H)
mosaicplot(table(encuesta_salud_train_csv$verduras,encuesta_salud_train_csv$hambre_mensual),col=terrain.colors(7:11),main="Distribución hambre mensual - consumo semanal de verduras",ylab="Frecuencia hambre mensual",xlab="Consumo semanal de verduras")
legend("right",cex=1,title="Variedad",c("-1: Dato perdido","tinto","2","3","4","5"),fill=terrain.colors(7:11),horiz = F)
mosaicplot(table(encuesta_salud_train_csv$verduras,encuesta_salud_train_csv$hambre_mensual),col=terrain.colors(7:11),main="Distribución hambre mensual - consumo semanal de verduras",ylab="Frecuencia hambre mensual",xlab="Consumo semanal de verduras")
legend("right",cex=1,title="Variedad",c("-1: Dato perdido","0: Nunca","1: Rara vez","2: Algunas veces ","3: Casi siempre","4: Siempre"),fill=terrain.colors(7:11),horiz = F)
mosaicplot(table(encuesta_salud_train_csv$verduras,encuesta_salud_train_csv$hambre_mensual),col=terrain.colors(7:11),main="Distribución hambre mensual - consumo semanal de verduras",ylab="Frecuencia hambre mensual",xlab="Consumo semanal de verduras")
legend("right",cex=1,title="Frecuencia hambre mensual",c("-1: Dato perdido","0: Nunca","1: Rara vez","2: Algunas veces ","3: Casi siempre","4: Siempre"),fill=terrain.colors(7:11),horiz = F)
mosaicplot(table(encuesta_salud_train_csv$verduras,encuesta_salud_train_csv$hambre_mensual),col=terrain.colors(7:11),main="Distribución hambre mensual - consumo semanal de verduras",ylab="Frecuencia hambre mensual",xlab="Consumo semanal de verduras")
legend("right",cex=0.5,title="Frecuencia hambre mensual",c("-1: Dato perdido","0: Nunca","1: Rara vez","2: Algunas veces ","3: Casi siempre","4: Siempre"),fill=terrain.colors(7:11),horiz = F)
mosaicplot(table(encuesta_salud_train_csv$verduras,encuesta_salud_train_csv$hambre_mensual),col=terrain.colors(7:11),main="Distribución hambre mensual - consumo semanal de verduras",ylab="Frecuencia hambre mensual",xlab="Consumo semanal de verduras")
legend("left",cex=0.5,title="Frecuencia hambre mensual",c("-1: Dato perdido","0: Nunca","1: Rara vez","2: Algunas veces ","3: Casi siempre","4: Siempre"),fill=terrain.colors(7:11),horiz = F)
legend("left",cex=0.5,title="Frecuencia hambre mensual",c("-1: Dato perdido","0: Nunca","1: Rara vez","2: Algunas veces ","3: Casi siempre","4: Siempre"),fill=terrain.colors(7:11),horiz=F,inset=-1)
mosaicplot(table(encuesta_salud_train_csv$verduras,encuesta_salud_train_csv$hambre_mensual),col=terrain.colors(7:11),main="Distribución hambre mensual - consumo semanal de verduras",ylab="Frecuencia hambre mensual",xlab="Consumo semanal de verduras")
legend("left",cex=0.5,title="Frecuencia hambre mensual",c("-1: Dato perdido","0: Nunca","1: Rara vez","2: Algunas veces ","3: Casi siempre","4: Siempre"),fill=terrain.colors(7:11),horiz=F,inset=-1)
mosaicplot(table(encuesta_salud_train_csv$verduras,encuesta_salud_train_csv$hambre_mensual),col=terrain.colors(7:11),main="Distribución hambre mensual - consumo semanal de verduras",ylab="Frecuencia hambre mensual",xlab="Consumo semanal de verduras")
legend("left",cex=0.5,title="Frecuencia hambre mensual",c("-1: Dato perdido","0: Nunca","1: Rara vez","2: Algunas veces ","3: Casi siempre","4: Siempre"),fill=terrain.colors(7:11),horiz=F,inset=0.05)
mosaicplot(table(encuesta_salud_train_csv$verduras,encuesta_salud_train_csv$hambre_mensual),col=terrain.colors(7:11),main="Distribución hambre mensual - consumo semanal de verduras",ylab="Frecuencia hambre mensual",xlab="Consumo semanal de verduras")
legend("left",cex=0.5,title="Frecuencia hambre mensual",c("-1: Dato perdido","0: Nunca","1: Rara vez","2: Algunas veces ","3: Casi siempre","4: Siempre"),fill=terrain.colors(7:11),horiz=F,inset=-0.05)
mosaicplot(table(encuesta_salud_train_csv$verduras,encuesta_salud_train_csv$hambre_mensual),col=terrain.colors(7:11),main="Distribución hambre mensual - consumo semanal de verduras",ylab="Frecuencia hambre mensual",xlab="Consumo semanal de verduras")
legend("left",cex=0.5,title="Frecuencia hambre mensual",c("-1: Dato perdido","0: Nunca","1: Rara vez","2: Algunas veces ","3: Casi siempre","4: Siempre"),fill=terrain.colors(7:11),horiz=F,inset=0)
mosaicplot(table(encuesta_salud_train_csv$verduras,encuesta_salud_train_csv$hambre_mensual),col=terrain.colors(7:11),main="Distribución hambre mensual - consumo semanal de verduras",ylab="Frecuencia hambre mensual",xlab="Consumo semanal de verduras")
legend("botomleft",cex=0.5,title="Frecuencia hambre mensual",c("-1: Dato perdido","0: Nunca","1: Rara vez","2: Algunas veces ","3: Casi siempre","4: Siempre"),fill=terrain.colors(7:11),horiz=F,inset=0,xpd = TRUE)
mosaicplot(table(encuesta_salud_train_csv$verduras,encuesta_salud_train_csv$hambre_mensual),col=terrain.colors(7:11),main="Distribución hambre mensual - consumo semanal de verduras",ylab="Frecuencia hambre mensual",xlab="Consumo semanal de verduras")
legend("right",cex=0.5,title="Frecuencia hambre mensual",c("-1: Dato perdido","0: Nunca","1: Rara vez","2: Algunas veces ","3: Casi siempre","4: Siempre"),fill=terrain.colors(7:11),horiz=F,inset=0,xpd=TRUE)
mosaicplot(table(encuesta_salud_train_csv$verduras,encuesta_salud_train_csv$hambre_mensual),col=terrain.colors(7:11),main="Distribución hambre mensual - consumo semanal de verduras",ylab="Frecuencia hambre mensual",xlab="Consumo semanal de verduras")
legend("right",cex=0.5,title="Frecuencia hambre mensual",c("-1: Dato perdido","0: Nunca","1: Rara vez","2: Algunas veces ","3: Casi siempre","4: Siempre"),fill=terrain.colors(7:11),horiz=F,xpd=TRUE,inset = c(-0.45, 0))
mosaicplot(table(encuesta_salud_train_csv$verduras,encuesta_salud_train_csv$hambre_mensual),col=terrain.colors(7:11),main="Distribución hambre mensual - consumo semanal de verduras",ylab="Frecuencia hambre mensual",xlab="Consumo semanal de verduras")
legend("right",cex=0.5,title="Frecuencia hambre mensual",c("-1: Dato perdido","0: Nunca","1: Rara vez","2: Algunas veces ","3: Casi siempre","4: Siempre"),fill=terrain.colors(7:11),horiz=F,xpd=TRUE,inset=c(-0.1,0))
mosaicplot(table(encuesta_salud_train_csv$verduras,encuesta_salud_train_csv$hambre_mensual),col=terrain.colors(7:11),main="Distribución hambre mensual - consumo semanal de verduras",ylab="Frecuencia hambre mensual",xlab="Consumo semanal de verduras")
legend("bottom",cex=0.5,title="Frecuencia hambre mensual",c("-1: Dato perdido","0: Nunca","1: Rara vez","2: Algunas veces ","3: Casi siempre","4: Siempre"),fill=terrain.colors(7:11),horiz=T,xpd=TRUE)
legend("bottom",cex=0.5,title="Frecuencia hambre mensual",c("-1: Dato perdido","0: Nunca","1: Rara vez","2: Algunas veces ","3: Casi siempre","4: Siempre"),fill=terrain.colors(7:11),horiz=T,xpd=TRUE,inset = c(0,100))
mosaicplot(table(encuesta_salud_train_csv$verduras,encuesta_salud_train_csv$hambre_mensual),col=terrain.colors(7:11),main="Distribución hambre mensual - consumo semanal de verduras",ylab="Frecuencia hambre mensual",xlab="Consumo semanal de verduras")
legend("bottom",cex=0.5,title="Frecuencia hambre mensual",c("-1: Dato perdido","0: Nunca","1: Rara vez","2: Algunas veces ","3: Casi siempre","4: Siempre"),fill=terrain.colors(7:11),horiz=T,xpd=TRUE,inset = c(0,100))
mosaicplot(table(encuesta_salud_train_csv$verduras,encuesta_salud_train_csv$hambre_mensual),col=terrain.colors(7:11),main="Distribución hambre mensual - consumo semanal de verduras",ylab="Frecuencia hambre mensual",xlab="Consumo semanal de verduras")
legend("bottom",cex=0.5,title="Frecuencia hambre mensual",c("-1: Dato perdido","0: Nunca","1: Rara vez","2: Algunas veces ","3: Casi siempre","4: Siempre"),fill=terrain.colors(7:11),horiz=T,xpd=TRUE,inset = c(0,0.5))
mosaicplot(table(encuesta_salud_train_csv$verduras,encuesta_salud_train_csv$hambre_mensual),col=terrain.colors(7:11),main="Distribución hambre mensual - consumo semanal de verduras",ylab="Frecuencia hambre mensual",xlab="Consumo semanal de verduras")
legend("bottom",cex=0.5,title="Frecuencia hambre mensual",c("-1: Dato perdido","0: Nunca","1: Rara vez","2: Algunas veces ","3: Casi siempre","4: Siempre"),fill=terrain.colors(7:11),horiz=T,xpd=TRUE,inset = c(0, -0.5))
mosaicplot(table(encuesta_salud_train_csv$verduras,encuesta_salud_train_csv$hambre_mensual),col=terrain.colors(7:11),main="Distribución hambre mensual - consumo semanal de verduras",ylab="Frecuencia hambre mensual",xlab="Consumo semanal de verduras")
legend("bottom",cex=0.5,title="Frecuencia hambre mensual",c("-1: Dato perdido","0: Nunca","1: Rara vez","2: Algunas veces ","3: Casi siempre","4: Siempre"),fill=terrain.colors(7:11),horiz=T,xpd=TRUE,inset = c(0, -0.2))
mosaicplot(table(encuesta_salud_train_csv$verduras,encuesta_salud_train_csv$hambre_mensual),col=terrain.colors(7:11),main="Distribución hambre mensual - consumo semanal de verduras",ylab="Frecuencia hambre mensual",xlab="Consumo semanal de verduras")
legend("bottom",cex=0.5,title="Frecuencia hambre mensual",c("-1: Dato perdido","0: Nunca","1: Rara vez","2: Algunas veces ","3: Casi siempre","4: Siempre"),fill=terrain.colors(7:11),horiz=T,xpd=TRUE,inset = c(0, -0.35))
mosaicplot(table(encuesta_salud_train_csv$verduras,encuesta_salud_train_csv$hambre_mensual),col=terrain.colors(7:11),main="Distribución hambre mensual - consumo semanal de verduras",ylab="Frecuencia hambre mensual",xlab="Consumo semanal de verduras")
legend("bottom",cex=0.5,title="Frecuencia hambre mensual",c("-1: Dato perdido","0: Nunca","1: Rara vez","2: Algunas veces ","3: Casi siempre","4: Siempre"),fill=terrain.colors(7:11),horiz=T,xpd=TRUE,inset = c(0, -0.25))
mosaicplot(table(encuesta_salud_train_csv$verduras,encuesta_salud_train_csv$hambre_mensual),col=terrain.colors(7:11),main="Distribución hambre mensual - consumo semanal de verduras",ylab="Frecuencia hambre mensual",xlab="Consumo semanal de verduras")
legend("bottom",cex=0.5,title="Frecuencia hambre mensual",c("-1: Dato perdido","0: Nunca","1: Rara vez","2: Algunas veces ","3: Casi siempre","4: Siempre"),fill=terrain.colors(7:11),horiz=T,xpd=TRUE,inset = c(0, -0.3))
mosaicplot(table(encuesta_salud_train_csv$verduras,encuesta_salud_train_csv$hambre_mensual),col=terrain.colors(7:11),main="Distribución hambre mensual - consumo semanal de verduras",ylab="Frecuencia hambre mensual",xlab="Consumo semanal de verduras")
legend("bottom",cex=0.5,title="Frecuencia hambre mensual",c("-1: Dato perdido","0: Nunca","1: Rara vez","2: Algunas veces ","3: Casi siempre","4: Siempre"),fill=terrain.colors(7:11),horiz=T,xpd=TRUE,inset = c(0, -0.25))
mosaicplot(table(encuesta_salud_train_csv$verduras,encuesta_salud_train_csv$hambre_mensual),col=terrain.colors(7:11),main="Distribución hambre mensual - consumo semanal de verduras",ylab="Frecuencia hambre mensual",xlab="Consumo semanal de verduras")
legend("bottom",cex=0.75,title="Frecuencia hambre mensual",c("-1: Dato perdido","0: Nunca","1: Rara vez","2: Algunas veces ","3: Casi siempre","4: Siempre"),fill=terrain.colors(7:11),horiz=T,xpd=TRUE,inset = c(0, -0.25))
mosaicplot(table(encuesta_salud_train_csv$verduras,encuesta_salud_train_csv$hambre_mensual),col=terrain.colors(7:11),main="Distribución hambre mensual - consumo semanal de verduras",ylab="Frecuencia hambre mensual",xlab="Consumo semanal de verduras")
legend("bottom",cex=0.5,title="Frecuencia hambre mensual",c("-1: Dato perdido","0: Nunca","1: Rara vez","2: Algunas veces ","3: Casi siempre","4: Siempre"),fill=terrain.colors(7:11),horiz=T,xpd=TRUE,inset = c(0, -0.25))
encuesta_salud_train_csv %>% distinct(consumo_semanal_comida_grasa) %>% select(consumo_semanal_comida_grasa)
encuesta_salud_train_csv["comida_grasa"] = encuesta_salud_train_csv %>%
select(consumo_semanal_comida_grasa) %>%
map(~ str_replace(.x,"No comí comida alta en grasa en los últimos 7 días",'Nunca')) %>%
map(~ str_replace(.x,"1 vez al día",'1/dia')) %>%
map(~ str_replace(.x,"2 veces al día",'2/dia')) %>%
map(~ str_replace(.x,"3 veces al día",'3/dia')) %>%
map(~ str_replace(.x,"4 o más veces al día",'+4/dia')) %>%
map(~ str_replace(.x,"Dato perdido",'NA')) %>%
map(~ str_replace(.x,"1 a 3 veces durante los últimos 7 días",'1-3/sem')) %>%
map(~ str_replace(.x,"4 a 6 veces durante los últimos 7 días",'4-6/sem'))
encuesta_salud_train_csv %>% distinct(frecuencia_hambre_mensual) %>% select(frecuencia_hambre_mensual)
encuesta_salud_train_csv %>% distinct(consumo_semanal_comida_grasa) %>% select(consumo_semanal_comida_grasa)
encuesta_salud_train_csv %>% distinct(frecuencia_hambre_mensual) %>% select(frecuencia_hambre_mensual)
encuesta_salud_train_csv %>% distinct(consumo_semanal_verdura) %>% select(consumo_semanal_verdura)
encuesta_salud_train_csv %>% distinct(consumo_semanal_comida_grasa) %>% select(consumo_semanal_comida_grasa)
mosaicplot(table(encuesta_salud_train_csv$verduras,encuesta_salud_train_csv$hambre_mensual),col=terrain.colors(7:11),main="Distribución hambre mensual - consumo semanal de verduras",ylab="Frecuencia hambre mensual",xlab="Consumo semanal de verduras")
legend("bottom",cex=0.5,title="Frecuencia hambre mensual",c("-1: Dato perdido","0: Nunca","1: Rara vez","2: Algunas veces ","3: Casi siempre","4: Siempre"),fill=terrain.colors(7:11),horiz=T,xpd=TRUE,inset=c(0, -0.25))
mosaicplot(table(encuesta_salud_train_csv$comida_grasa,encuesta_salud_train_csv$hambre_mensual),col=terrain.colors(7:11),main="Distribución hambre mensual - consumo semanal de comida grasa",ylab="Frecuencia hambre mensual",xlab="Consumo semanal de comida grasa")
legend("bottom",cex=0.5,title="Frecuencia hambre mensual",c("-1: Dato perdido","0: Nunca","1: Rara vez","2: Algunas veces ","3: Casi siempre","4: Siempre"),fill=terrain.colors(7:11),horiz=T,xpd=TRUE,inset=c(0, -0.25))
encuesta_salud_train_csv["verduras"] = encuesta_salud_train_csv %>%
select(consumo_semanal_verdura) %>%
map(~ str_replace(.x,"No comí verduras ni hortalizas durante los últimos 7 días",'Nunca')) %>%
map(~ str_replace(.x,"1 vez al día",'1/dia')) %>%
map(~ str_replace(.x,"2 veces al día",'2/dia')) %>%
map(~ str_replace(.x,"3 veces al día",'3/dia')) %>%
map(~ str_replace(.x,"4 o más veces al día",'4+/dia')) %>%
map(~ str_replace(.x,"Dato perdido",'NA')) %>%
map(~ str_replace(.x,"1 a 3 veces durante los últimos 7 días",'1-3/sem')) %>%
map(~ str_replace(.x,"4 a 6 veces durante los últimos 7 días",'4-6/sem'))
encuesta_salud_train_csv["comida_grasa"] = encuesta_salud_train_csv %>%
select(consumo_semanal_comida_grasa) %>%
map(~ str_replace(.x,"No comí comida alta en grasa en los últimos 7 días",'Nunca')) %>%
map(~ str_replace(.x,"1 vez al día",'1/dia')) %>%
map(~ str_replace(.x,"2 veces al día",'2/dia')) %>%
map(~ str_replace(.x,"3 veces al día",'3/dia')) %>%
map(~ str_replace(.x,"4 o más veces al día",'4+/dia')) %>%
map(~ str_replace(.x,"Dato perdido",'NA')) %>%
map(~ str_replace(.x,"1 a 3 veces durante los últimos 7 días",'1-3/sem')) %>%
map(~ str_replace(.x,"4 a 6 veces durante los últimos 7 días",'4-6/sem'))
encuesta_salud_train_csv["hambre_mensual"] = encuesta_salud_train_csv %>%
select(frecuencia_hambre_mensual) %>%
map(~ ifelse(.x == "Nunca", 0, .x)) %>%
map(~ ifelse(.x == "Rara vez", 1, .x)) %>%
map(~ ifelse(.x == "Algunas veces", 2, .x)) %>%
map(~ ifelse(.x == "Casi siempre", 3, .x)) %>%
map(~ ifelse(.x == "Siempre", 4, .x)) %>%
map(~ ifelse(.x == "Dato perdido", -1, .x))
encuesta_salud_train_csv["verduras"] = encuesta_salud_train_csv %>%
select(consumo_semanal_verdura) %>%
map(~ str_replace(.x,"No comí verduras ni hortalizas durante los últimos 7 días",'Nunca')) %>%
map(~ str_replace(.x,"1 vez al día",'1/dia')) %>%
map(~ str_replace(.x,"2 veces al día",'2/dia')) %>%
map(~ str_replace(.x,"3 veces al día",'3/dia')) %>%
map(~ str_replace(.x,"4 o más veces al día",'4+/dia')) %>%
map(~ str_replace(.x,"Dato perdido",'NA')) %>%
map(~ str_replace(.x,"1 a 3 veces durante los últimos 7 días",'1-3/sem')) %>%
map(~ str_replace(.x,"4 a 6 veces durante los últimos 7 días",'4-6/sem'))
encuesta_salud_train_csv["comida_grasa"] = encuesta_salud_train_csv %>%
select(consumo_semanal_comida_grasa) %>%
map(~ str_replace(.x,"No comí comida alta en grasa en los últimos 7 días",'Nunca')) %>%
map(~ str_replace(.x,"1 vez al día",'1/dia')) %>%
map(~ str_replace(.x,"2 veces al día",'2/dia')) %>%
map(~ str_replace(.x,"3 veces al día",'3/dia')) %>%
map(~ str_replace(.x,"4 o más veces al día",'4+/dia')) %>%
map(~ str_replace(.x,"Dato perdido",'NA')) %>%
map(~ str_replace(.x,"1 a 3 veces durante los últimos 7 días",'1-3/sem')) %>%
map(~ str_replace(.x,"4 a 6 veces durante los últimos 7 días",'4-6/sem'))
encuesta_salud_train_csv["hambre_mensual"] = encuesta_salud_train_csv %>%
select(frecuencia_hambre_mensual) %>%
map(~ ifelse(.x == "Nunca", 0, .x)) %>%
map(~ ifelse(.x == "Rara vez", 1, .x)) %>%
map(~ ifelse(.x == "Algunas veces", 2, .x)) %>%
map(~ ifelse(.x == "Casi siempre", 3, .x)) %>%
map(~ ifelse(.x == "Siempre", 4, .x)) %>%
map(~ ifelse(.x == "Dato perdido", -1, .x))
mosaicplot(table(encuesta_salud_train_csv$verduras,encuesta_salud_train_csv$hambre_mensual),col=terrain.colors(7:11),main="Distribución hambre mensual - consumo semanal de verduras",ylab="Frecuencia hambre mensual",xlab="Consumo semanal de verduras")
legend("bottom",cex=0.5,title="Frecuencia hambre mensual",c("-1: Dato perdido","0: Nunca","1: Rara vez","2: Algunas veces ","3: Casi siempre","4: Siempre"),fill=terrain.colors(7:11),horiz=T,xpd=TRUE,inset=c(0, -0.25))
mosaicplot(table(encuesta_salud_train_csv$comida_grasa,encuesta_salud_train_csv$hambre_mensual),col=terrain.colors(7:11),main="Distribución hambre mensual - consumo semanal de comida grasa",ylab="Frecuencia hambre mensual",xlab="Consumo semanal de comida grasa")
legend("bottom",cex=0.5,title="Frecuencia hambre mensual",c("-1: Dato perdido","0: Nunca","1: Rara vez","2: Algunas veces ","3: Casi siempre","4: Siempre"),fill=terrain.colors(7:11),horiz=T,xpd=TRUE,inset=c(0, -0.25))
encuesta_salud_train_csv["verduras"] = encuesta_salud_train_csv %>%
select(consumo_semanal_verdura) %>%
map(~ str_replace(.x,"No comí verduras ni hortalizas durante los últimos 7 días",'Nunca')) %>%
map(~ str_replace(.x,"1 vez al día",'1/dia')) %>%
map(~ str_replace(.x,"2 veces al día",'2/dia')) %>%
map(~ str_replace(.x,"3 veces al día",'3/dia')) %>%
map(~ str_replace(.x,"4 o más veces al día",'4+/dia')) %>%
map(~ str_replace(.x,"Dato perdido",'Missing')) %>%
map(~ str_replace(.x,"1 a 3 veces durante los últimos 7 días",'1-3/sem')) %>%
map(~ str_replace(.x,"4 a 6 veces durante los últimos 7 días",'4-6/sem'))
encuesta_salud_train_csv["comida_grasa"] = encuesta_salud_train_csv %>%
select(consumo_semanal_comida_grasa) %>%
map(~ str_replace(.x,"No comí comida alta en grasa en los últimos 7 días",'Nunca')) %>%
map(~ str_replace(.x,"1 vez al día",'1/dia')) %>%
map(~ str_replace(.x,"2 veces al día",'2/dia')) %>%
map(~ str_replace(.x,"3 veces al día",'3/dia')) %>%
map(~ str_replace(.x,"4 o más veces al día",'4+/dia')) %>%
map(~ str_replace(.x,"Dato perdido",'Missing')) %>%
map(~ str_replace(.x,"1 a 3 veces durante los últimos 7 días",'1-3/sem')) %>%
map(~ str_replace(.x,"4 a 6 veces durante los últimos 7 días",'4-6/sem'))
encuesta_salud_train_csv["hambre_mensual"] = encuesta_salud_train_csv %>%
select(frecuencia_hambre_mensual) %>%
map(~ ifelse(.x == "Nunca", 0, .x)) %>%
map(~ ifelse(.x == "Rara vez", 1, .x)) %>%
map(~ ifelse(.x == "Algunas veces", 2, .x)) %>%
map(~ ifelse(.x == "Casi siempre", 3, .x)) %>%
map(~ ifelse(.x == "Siempre", 4, .x)) %>%
map(~ ifelse(.x == "Dato perdido", -1, .x))
mosaicplot(table(encuesta_salud_train_csv$verduras,encuesta_salud_train_csv$hambre_mensual),col=terrain.colors(7:11),main="Distribución hambre mensual - consumo semanal de verduras",ylab="Frecuencia hambre mensual",xlab="Consumo semanal de verduras")
legend("bottom",cex=0.5,title="Frecuencia hambre mensual",c("-1: Dato perdido","0: Nunca","1: Rara vez","2: Algunas veces ","3: Casi siempre","4: Siempre"),fill=terrain.colors(7:11),horiz=T,xpd=TRUE,inset=c(0, -0.25))
mosaicplot(table(encuesta_salud_train_csv$comida_grasa,encuesta_salud_train_csv$hambre_mensual),col=terrain.colors(7:11),main="Distribución hambre mensual - consumo semanal de comida grasa",ylab="Frecuencia hambre mensual",xlab="Consumo semanal de comida grasa")
legend("bottom",cex=0.5,title="Frecuencia hambre mensual",c("-1: Dato perdido","0: Nunca","1: Rara vez","2: Algunas veces ","3: Casi siempre","4: Siempre"),fill=terrain.colors(7:11),horiz=T,xpd=TRUE,inset=c(0, -0.25))
encuesta_salud_train_csv["verduras"] = encuesta_salud_train_csv %>%
select(consumo_semanal_verdura) %>%
map(~ str_replace(.x,"No comí verduras ni hortalizas durante los últimos 7 días",'Nunca')) %>%
map(~ str_replace(.x,"1 vez al día",'1/dia')) %>%
map(~ str_replace(.x,"2 veces al día",'2/dia')) %>%
map(~ str_replace(.x,"3 veces al día",'3/dia')) %>%
map(~ str_replace(.x,"4 o más veces al día",'4+/dia')) %>%
map(~ str_replace(.x,"Dato perdido",'Perdido')) %>%
map(~ str_replace(.x,"1 a 3 veces durante los últimos 7 días",'1-3/sem')) %>%
map(~ str_replace(.x,"4 a 6 veces durante los últimos 7 días",'4-6/sem'))
encuesta_salud_train_csv["comida_grasa"] = encuesta_salud_train_csv %>%
select(consumo_semanal_comida_grasa) %>%
map(~ str_replace(.x,"No comí comida alta en grasa en los últimos 7 días",'Nunca')) %>%
map(~ str_replace(.x,"1 vez al día",'1/dia')) %>%
map(~ str_replace(.x,"2 veces al día",'2/dia')) %>%
map(~ str_replace(.x,"3 veces al día",'3/dia')) %>%
map(~ str_replace(.x,"4 o más veces al día",'4+/dia')) %>%
map(~ str_replace(.x,"Dato perdido",'Perdido')) %>%
map(~ str_replace(.x,"1 a 3 veces durante los últimos 7 días",'1-3/sem')) %>%
map(~ str_replace(.x,"4 a 6 veces durante los últimos 7 días",'4-6/sem'))
encuesta_salud_train_csv["hambre_mensual"] = encuesta_salud_train_csv %>%
select(frecuencia_hambre_mensual) %>%
map(~ ifelse(.x == "Nunca", 0, .x)) %>%
map(~ ifelse(.x == "Rara vez", 1, .x)) %>%
map(~ ifelse(.x == "Algunas veces", 2, .x)) %>%
map(~ ifelse(.x == "Casi siempre", 3, .x)) %>%
map(~ ifelse(.x == "Siempre", 4, .x)) %>%
map(~ ifelse(.x == "Dato perdido", -1, .x))
mosaicplot(table(encuesta_salud_train_csv$verduras,encuesta_salud_train_csv$hambre_mensual),col=terrain.colors(7:11),main="Distribución hambre mensual - consumo semanal de verduras",ylab="Frecuencia hambre mensual",xlab="Consumo semanal de verduras")
legend("bottom",cex=0.5,title="Frecuencia hambre mensual",c("-1: Dato perdido","0: Nunca","1: Rara vez","2: Algunas veces ","3: Casi siempre","4: Siempre"),fill=terrain.colors(7:11),horiz=T,xpd=TRUE,inset=c(0, -0.25))
mosaicplot(table(encuesta_salud_train_csv$comida_grasa,encuesta_salud_train_csv$hambre_mensual),col=terrain.colors(7:11),main="Distribución hambre mensual - consumo semanal de comida grasa",ylab="Frecuencia hambre mensual",xlab="Consumo semanal de comida grasa")
legend("bottom",cex=0.5,title="Frecuencia hambre mensual",c("-1: Dato perdido","0: Nunca","1: Rara vez","2: Algunas veces ","3: Casi siempre","4: Siempre"),fill=terrain.colors(7:11),horiz=T,xpd=TRUE,inset=c(0, -0.25))
mosaicplot(table(encuesta_salud_train_csv$verduras,encuesta_salud_train_csv$hambre_mensual),col=terrain.colors(7:11),main="Distribución hambre mensual - consumo semanal de verduras",ylab="Frecuencia hambre mensual",xlab="Consumo semanal de verduras")
legend("bottom",cex=0.5,title="Frecuencia hambre mensual",c("-1: Dato perdido","0: Nunca","1: Rara vez","2: Algunas veces ","3: Casi siempre","4: Siempre"),fill=terrain.colors(7:11),horiz=T,xpd=TRUE,inset=c(0, -0.25))
mosaicplot(table(encuesta_salud_train_csv$comida_grasa,encuesta_salud_train_csv$hambre_mensual),col=terrain.colors(7:11),main="Distribución hambre mensual - consumo semanal de comida grasa",ylab="Frecuencia hambre mensual",xlab="Consumo semanal de comida grasa")
legend("bottom",cex=0.5,title="Frecuencia hambre mensual",c("-1: Dato perdido","0: Nunca","1: Rara vez","2: Algunas veces ","3: Casi siempre","4: Siempre"),fill=terrain.colors(7:11),horiz=T,xpd=TRUE,inset=c(0, -0.25))
# Cargo los datasets de train y test
encuesta_salud_train_df <- read.csv("datasets/encuesta_salud_train.csv")
encuesta_salud_test_df <- read.csv("datasets/encuesta_salud_test.csv")
tabla_exploratorios =  encuesta_salud_train_df %>%
gather(.,
key = "variables",
value = "valores") %>% # agrupamos por las variables del set
group_by(variables) %>%
summarise(valores_unicos = n_distinct(valores),
porcentaje_faltantes = sum(is.na(valores))/nrow(encuesta_salud_train_df)*100) %>%
arrange(desc(porcentaje_faltantes), valores_unicos) # ordenamos por porcentaje de faltantes y valores unicos
tabla_exploratorios
tabla_exploratorios =  encuesta_salud_train_csv %>%
gather(.,
key = "variables",
value = "valores") %>% # agrupamos por las variables del set
group_by(variables) %>%
summarise(valores_unicos = n_distinct(valores),
porcentaje_faltantes = sum(is.na(valores))/nrow(encuesta_salud_train_csv)*100) %>%
arrange(desc(porcentaje_faltantes), valores_unicos) # ordenamos por porcentaje de faltantes y valores unicos
tabla_exploratorios
modelo_inicial = lm(formula = peso ~ altura + edad + genero + dias_actividad_fisica_semanal + consumo_diario_alcohol, data = encuesta_salud_train_df)
modelo_inicial = lm(formula = peso ~ altura + edad + genero + dias_actividad_fisica_semanal + consumo_diario_alcohol, data = encuesta_salud_train_df)
modelo_inicial
# ajustamos el modelo lineal múltiple
modelo_inicial = lm(formula = peso ~ altura + edad + genero + dias_actividad_fisica_semanal + consumo_diario_alcohol, data = encuesta_salud_train_df)
# Resumen del modelo
tidy_modelo_inicial <- tidy(modelo_inicial, conf.int = TRUE)
tidy_modelo_inicial
-68.922688070 + 1.262643558
options("scipen"=1)
tidy_modelo_inicial %>%
select(term, statistic, p.value, conf.low, conf.high)
summary_modelo_inicial = summary(modelo_inicial)
summary_modelo_inicial
summary(modelo_inicial)
glance(modelo_inicial)
plot(modelo_inicial)
encuesta_salud_train_df %>%
select(genero, edad) %>%
map2(~ .x * .y)
encuesta_salud_train_df %>%
select(genero, edad) %>%
map2(~ (.x,.y) .x * .y)
encuesta_salud_train_df %>%
select(genero, edad) %>%
map2(.x=genero,.y=edad, .f=function(.x,.y)= .x*.y)
encuesta_salud_train_df %>%
select(genero, edad) %>%
map2(.x=genero,.y=edad, .f=function(.x,.y) .x*.y)
encuesta_salud_train_df %>%
select(genero, edad) %>%
map2(.f=function(.x,.y) .x*.y)
encuesta_salud_train_df %>%
select(genero, edad) %>%
map2(.f=function(.x) .x$genero*.x$edad)
encuesta_salud_train_df %>%
select(genero, edad) %>%
map(.f=function(.x) .x$genero*.x$edad)
encuesta_salud_train_df %>%
select(genero, edad) %>%
map(~.x$genero *.x$edad)
encuesta_salud_train_df %>%
select(genero, edad) %>%
map(~ .x['genero'] *.x$edad)
encuesta_salud_train_df %>%
select(genero, edad) %>%
map(~ .x['genero'] *.x['edad'])
encuesta_salud_train_df['genero'] * encuesta_salud_train_df['edad']
# ajustamos el modelo lineal múltiple
modelo_categoricas = lm(formula = peso ~ altura + edad + genero + consumo_semanal_snacks + (genero * edad), data = encuesta_salud_train_df)
# Resumen del modelo
tidy_modelo_inicial <- tidy(modelo_categoricas, conf.int = TRUE)
tidy_modelo_inicial
encuesta_salud_train_df %>% distinct(consumo_semanal_snacks) %>% select(consumo_semanal_snacks)
# ajustamos el modelo lineal múltiple
encuesta_salud_train_df["snacksDummy"] = encuesta_salud_train_df %>%
select(consumo_semanal_snacks) %>%
map(~ str_replace(.x,"No comí comida salada o snacks en los últimos 7 días",'0')) %>%
map(~ str_replace(.x,"1 vez al día",'1/dia')) %>%
map(~ str_replace(.x,"2 veces al día",'2/dia')) %>%
map(~ str_replace(.x,"3 veces al día",'3/dia')) %>%
map(~ str_replace(.x,"4 o más veces al día",'4+/dia')) %>%
map(~ str_replace(.x,"1 a 3 veces durante los últimos 7 días",'1-3/sem')) %>%
map(~ str_replace(.x,"4 a 6 veces durante los últimos 7 días",'4-6/sem'))
modelo_categoricas = lm(formula = peso ~ altura + edad + genero + snacksDummy + (genero * edad), data = encuesta_salud_train_df)
# Resumen del modelo
tidy_modelo_inicial <- tidy(modelo_categoricas, conf.int = TRUE)
tidy_modelo_inicial
modelo_categoricas = lm(formula = peso ~ altura + edad  + snacksDummy + (genero * edad), data = encuesta_salud_train_df)
modelo_categoricas = lm(formula = peso ~ altura + edad  + snacksDummy + (genero * edad), data = encuesta_salud_train_df)
# Resumen del modelo
tidy_modelo_inicial <- tidy(modelo_categoricas, conf.int = TRUE)
# Resumen del modelo
tidy_modelo_inicial <- tidy(modelo_categoricas, conf.int = TRUE)
tidy_modelo_inicial
# ajustamos el modelo lineal múltiple
encuesta_salud_train_df["snacksDummy"] = encuesta_salud_train_df %>%
select(consumo_semanal_snacks) %>%
map(~ str_replace(.x,"No comí comida salada o snacks en los últimos 7 días",'0')) %>%
map(~ str_replace(.x,"1 vez al día",'1/dia')) %>%
map(~ str_replace(.x,"2 veces al día",'2/dia')) %>%
map(~ str_replace(.x,"3 veces al día",'3/dia')) %>%
map(~ str_replace(.x,"4 o más veces al día",'4+/dia')) %>%
map(~ str_replace(.x,"1 a 3 veces durante los últimos 7 días",'1-3/sem')) %>%
map(~ str_replace(.x,"4 a 6 veces durante los últimos 7 días",'4-6/sem'))
modelo_categoricas = lm(formula = peso ~ altura + edad  + snacksDummy + (genero * edad), data = encuesta_salud_train_df)
# Resumen del modelo
tidy_modelo_inicial <- tidy(modelo_categoricas, conf.int = TRUE)
tidy_modelo_inicial
# ajustamos el modelo lineal múltiple
encuesta_salud_train_df["snacksDummy"] = encuesta_salud_train_df %>%
select(consumo_semanal_snacks) %>%
map(~ str_replace(.x,"No comí comida salada o snacks en los últimos 7 días",'0')) %>%
map(~ str_replace(.x,"1 vez al día",'1/dia')) %>%
map(~ str_replace(.x,"2 veces al día",'2/dia')) %>%
map(~ str_replace(.x,"3 veces al día",'3/dia')) %>%
map(~ str_replace(.x,"4 o más veces al día",'4+/dia')) %>%
map(~ str_replace(.x,"1 a 3 veces durante los últimos 7 días",'1-3/sem')) %>%
map(~ str_replace(.x,"4 a 6 veces durante los últimos 7 días",'4-6/sem'))
modelo_categoricas = lm(formula = peso ~ (genero * edad), data = encuesta_salud_train_df)
# Resumen del modelo
tidy_modelo_inicial <- tidy(modelo_categoricas, conf.int = TRUE)
tidy_modelo_inicial
# ajustamos el modelo lineal múltiple
encuesta_salud_train_df["snacksDummy"] = encuesta_salud_train_df %>%
select(consumo_semanal_snacks) %>%
map(~ str_replace(.x,"No comí comida salada o snacks en los últimos 7 días",'0')) %>%
map(~ str_replace(.x,"1 vez al día",'1/dia')) %>%
map(~ str_replace(.x,"2 veces al día",'2/dia')) %>%
map(~ str_replace(.x,"3 veces al día",'3/dia')) %>%
map(~ str_replace(.x,"4 o más veces al día",'4+/dia')) %>%
map(~ str_replace(.x,"1 a 3 veces durante los últimos 7 días",'1-3/sem')) %>%
map(~ str_replace(.x,"4 a 6 veces durante los últimos 7 días",'4-6/sem'))
modelo_categoricas = lm(formula = peso ~ genero * edad, data = encuesta_salud_train_df)
# Resumen del modelo
tidy_modelo_inicial <- tidy(modelo_categoricas, conf.int = TRUE)
tidy_modelo_inicial
# ajustamos el modelo lineal múltiple
encuesta_salud_train_df["snacksDummy"] = encuesta_salud_train_df %>%
select(consumo_semanal_snacks) %>%
map(~ str_replace(.x,"No comí comida salada o snacks en los últimos 7 días",'0')) %>%
map(~ str_replace(.x,"1 vez al día",'1/dia')) %>%
map(~ str_replace(.x,"2 veces al día",'2/dia')) %>%
map(~ str_replace(.x,"3 veces al día",'3/dia')) %>%
map(~ str_replace(.x,"4 o más veces al día",'4+/dia')) %>%
map(~ str_replace(.x,"1 a 3 veces durante los últimos 7 días",'1-3/sem')) %>%
map(~ str_replace(.x,"4 a 6 veces durante los últimos 7 días",'4-6/sem'))
modelo_categoricas = lm(formula = peso ~ 0 + genero * edad, data = encuesta_salud_train_df)
# Resumen del modelo
tidy_modelo_inicial <- tidy(modelo_categoricas, conf.int = TRUE)
tidy_modelo_inicial
# ajustamos el modelo lineal múltiple
encuesta_salud_train_df["snacksDummy"] = encuesta_salud_train_df %>%
select(consumo_semanal_snacks) %>%
map(~ str_replace(.x,"No comí comida salada o snacks en los últimos 7 días",'0')) %>%
map(~ str_replace(.x,"1 vez al día",'1/dia')) %>%
map(~ str_replace(.x,"2 veces al día",'2/dia')) %>%
map(~ str_replace(.x,"3 veces al día",'3/dia')) %>%
map(~ str_replace(.x,"4 o más veces al día",'4+/dia')) %>%
map(~ str_replace(.x,"1 a 3 veces durante los últimos 7 días",'1-3/sem')) %>%
map(~ str_replace(.x,"4 a 6 veces durante los últimos 7 días",'4-6/sem'))
modelo_categoricas = lm(formula = peso ~ genero * edad - 1, data = encuesta_salud_train_df)
# Resumen del modelo
tidy_modelo_inicial <- tidy(modelo_categoricas, conf.int = TRUE)
tidy_modelo_inicial
# ajustamos el modelo lineal múltiple
encuesta_salud_train_df["snacksDummy"] = encuesta_salud_train_df %>%
select(consumo_semanal_snacks) %>%
map(~ str_replace(.x,"No comí comida salada o snacks en los últimos 7 días",'0')) %>%
map(~ str_replace(.x,"1 vez al día",'1/dia')) %>%
map(~ str_replace(.x,"2 veces al día",'2/dia')) %>%
map(~ str_replace(.x,"3 veces al día",'3/dia')) %>%
map(~ str_replace(.x,"4 o más veces al día",'4+/dia')) %>%
map(~ str_replace(.x,"1 a 3 veces durante los últimos 7 días",'1-3/sem')) %>%
map(~ str_replace(.x,"4 a 6 veces durante los últimos 7 días",'4-6/sem'))
modelo_categoricas = lm(formula = peso ~ I(genero * edad) - 1, data = encuesta_salud_train_df)
modelo_categoricas = lm(formula = peso ~ snacksDummy - 1, data = encuesta_salud_train_df)
# Resumen del modelo
tidy_modelo_inicial <- tidy(modelo_categoricas, conf.int = TRUE)
tidy_modelo_inicial
modelo_categoricas = lm(formula = peso ~ snacksDummy, data = encuesta_salud_train_df)
# Resumen del modelo
tidy_modelo_inicial <- tidy(modelo_categoricas, conf.int = TRUE)
tidy_modelo_inicial
# genero una nueva variable dummy para ubicar la categoría basal
encuesta_salud_train_df["snacksDummy"] = encuesta_salud_train_df %>%
select(consumo_semanal_snacks) %>%
map(~ str_replace(.x,"No comí comida salada o snacks en los últimos 7 días",'0')) %>%
map(~ str_replace(.x,"1 vez al día",'1/dia')) %>%
map(~ str_replace(.x,"2 veces al día",'2/dia')) %>%
map(~ str_replace(.x,"3 veces al día",'3/dia')) %>%
map(~ str_replace(.x,"4 o más veces al día",'4+/dia')) %>%
map(~ str_replace(.x,"1 a 3 veces durante los últimos 7 días",'1-3/sem')) %>%
map(~ str_replace(.x,"4 a 6 veces durante los últimos 7 días",'4-6/sem'))
modelo_categoricas = lm(formula = peso ~ altura + edad + genero + snacksDummy + (genero * edad), data = encuesta_salud_train_df)
# Resumen del modelo
tidy_modelo_inicial <- tidy(modelo_categoricas, conf.int = TRUE)
tidy_modelo_inicial
modelo_categoricas = lm(formula = peso ~ altura + edad + genero + snacksDummy + (genero * edad), data = encuesta_salud_train_df)
# Resumen del modelo
tidy(modelo_categoricas, conf.int = TRUE)
summary(modelo_categoricas)
